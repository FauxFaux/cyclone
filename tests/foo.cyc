#include "core.h"
#include "stdio.h"
#include "foo_tab.h"
using Stdio;

int c = (int)' ';

xtunion exn {ParseError};

void yyerror(string s) {
  printf("error: %s\n",s);
  throw new ParseError;
}

int yylex() {
  if (c == EOF) return -1;
  while (c == ' ' || c == '\n' || c == '\t') c = fgetc(stdin);
  if (c >= (int)'0' && c <= (int)'9') {
    int i = c - ((int)'0');
    c = fgetc(stdin);
    while (c >= (int)'0' && c <= (int)'9') {
      i = i*10 + (c - ((int)'0'));
      c = fgetc(stdin);
    }
    yylval = new Integer(i);
    return INT;
  } else {
    int old_c = c;
    c = fgetc(stdin);
    return old_c;
  }
}

int main() {
  yyparse();
  return 0;
}
