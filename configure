#!/bin/sh
#
# Allow the user to set the shell to use; otherwise use /bin/sh.
# Then execute config/realconfigure in the chosen shell.
# Probably /bin/sh is available everywhere and we could just
# eliminate this.

CONFIGSHELL=/bin/sh

while [ $# != 0 ]; do
  case "$1" in
    -sh) # set the shell to use
        shift
        if [ $# = 0 ]; then 
	  echo "-sh must specify a path"; exit 1; fi
        CONFIGSHELL=$1
        shift;;
    *) break;;
  esac
done

export CONFIGSHELL

$CONFIGSHELL config/realconfigure $*
EXITC=$?
if [ $EXITC != 0 ]; then
  echo configuration failed!
  exit $EXITC
fi
